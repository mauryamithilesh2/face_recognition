{% extends 'attendance/base.html' %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="container" style="max-width: 720px;">
  <div class="card">
    <div class="card-body p-4 p-md-5">
      <div class="text-center mb-3">
        <i class="bi bi-person-plus fs-1 text-primary"></i>
        <h3 class="mt-2 mb-0">Create your account</h3>
        <p class="text-muted">Join the Face Attendance platform</p>
      </div>
      <form method="post" action="{% url 'register' %}" enctype="multipart/form-data" class="row g-3">
        {% csrf_token %}
        {{ user_form.non_field_errors }}
        {{ profile_form.non_field_errors }}

        {# Render user_form fields with Bootstrap styling #}
        {% for field in user_form %}
          <div class="col-12">
            <label class="form-label">{{ field.label }}</label>
            {{ field.as_widget|safe }}
            {% if field.errors %}<div class="text-danger small">{{ field.errors|striptags }}</div>{% endif %}
          </div>
        {% endfor %}

        {# Render profile_form fields with Bootstrap styling #}
        {% for field in profile_form %}
          <div class="col-12">
            <label class="form-label">{{ field.label }}</label>
            {{ field.as_widget|safe }}
            {% if field.errors %}<div class="text-danger small">{{ field.errors|striptags }}</div>{% endif %}
          </div>
        {% endfor %}

        <div class="col-12 d-grid">
          <button type="submit" class="btn btn-accent">Register</button>
        </div>
      </form>
      <p class="text-center text-muted mt-3 mb-0">Already have an account? <a href="{% url 'login_view' %}">Login</a></p>
    </div>
  </div>
</div>
{% endblock %}